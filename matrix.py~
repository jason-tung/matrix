"""
A matrix will be an N sized list of 4 element lists.
Each individual list will represent an [x, y, z, 1] point.
For multiplication purposes, consider the lists like so:
x0  x1      xn
y0  y1      yn
z0  z1  ... zn
1  1        1
"""
import math

#print the matrix such that it looks like
#the template in the top comment
def print_matrix( matrix ):
    print_str = ""
    for rows in matrix:
        print_str += "|"
        for x in rows:
            str_num = str(x)
            num_spaces = 3 - len(str_num)
            print_str += num_spaces * "0" + str_num
            print_str += " "
        print_str = print_str[:-1]
        print_str += "|\n"
    print(print_str)

#turn the paramter matrix into an identity matrix
#you may assume matrix is square
def ident( matrix ):
    matrix = new_matrix(len(matrix[0]), len(matrix[0]))
    for x in range(len(matrix[0])):
        matrix[x][x] = 1
    return matrix

def dot(v1, v2):
    x = 0
    for x in v1:
        x+=v1 * v2
    return x

def getVector(m1,loc,direction):
    vector = []
    if direction == "down":
        vector = [k[loc] for k in m1]
    else:
        vector = m1[loc]
    return vector

def dotProd(v1,v2):
    tot = 0
    for x in range(len(v1)):
        tot += v1[x] * v2[x]
    return tot


#multiply m1 by m2, modifying m2 to be the product
#m1 * m2 -> m2
def matrix_mult( m1, m2 ):
    ret_matrix = new_matrix(len(m1),len(m2[0]))
    for horizontal_indices in range(len(m1)):
        horizontal_vector = getVector(m1, horizontal_indices, "right")
        for vertical_indices in range(len(m2[0])):
            vertical_vector = getVector(m2, vertical_indices, "down")
            ret_matrix[horizontal_indices][vertical_indices] = dotProd(horizontal_vector, vertical_vector)
    m2 = ret_matrix
    return m2

def new_matrix(rows = 4, cols = 4):
    m = []
    for c in range( cols ):
        m.append( [] )
        for r in range( rows ):
            m[c].append( 0 )
    return m

diagnostic = False
if diagnostic:
    test = new_matrix(2,6)
    for row in range(len(test)):
        for col in range(len(test[row])):
            test[row][col] = col + row
    print_matrix(test)
    #print_matrix(matrix_mult(test, ident(test)))
    #print_matrix(matrix_mult(test,ident(test)))
    #print_matrix(matrix_mult(test,ident(test)))
    test2 = new_matrix(6,2)
    for row in range(len(test2)):
        for col in range(len(test2[row])):
            test2[row][col] = row + col * (row+2)
    test3 = test2
    print("test1")
    print_matrix(test)
    print("test2")
    print_matrix(test2)
    print("test1 times copy of test2")
    print_matrix(matrix_mult(test,test3))
    print("now printing copy of test2 to verify that it changed")
    print_matrix(test3)
    
    print("test2 times test1")
    print_matrix(matrix_mult(test2,test))
    print("now printing copy of test to verify that it changed")
    print_matrix(test)


